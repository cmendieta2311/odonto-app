<div class="flex flex-col h-[calc(100vh-64px)] overflow-hidden bg-background-light">

    <!-- Top Horizontal Menu -->
    <div class="bg-surface-light border-b border-border-light shadow-sm flex-none z-20">
        <div class="flex items-center justify-between px-4 py-3 lg:px-8">
            <h2 class="text-xl font-bold text-primary font-display flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" />
                </svg>
                Manual de Usuario
            </h2>
        </div>

        <!-- Scrollable Tabs -->
        <nav class="flex overflow-x-auto px-4 lg:px-8 gap-6 no-scrollbar">
            <button *ngFor="let topic of topics" (click)="selectTopic(topic.id)"
                class="whitespace-nowrap py-3 border-b-2 text-sm font-medium transition-colors duration-200 flex items-center gap-2 px-1"
                [class.border-primary]="currentDoc === topic.id" [class.text-primary]="currentDoc === topic.id"
                [class.border-transparent]="currentDoc !== topic.id" [class.text-text-sub]="currentDoc !== topic.id"
                [class.hover:text-primary-hover]="currentDoc !== topic.id"
                [class.hover:border-border-dark]="currentDoc !== topic.id">

                <!-- Icono condicional simple -->
                <svg *ngIf="topic.id === 'intro'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                    stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                </svg>
                <svg *ngIf="topic.id !== 'intro'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                    stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
                </svg>

                {{ topic.title }}
            </button>
        </nav>
    </div>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto bg-background-light p-4 lg:p-8">
        <div
            class="max-w-4xl mx-auto bg-surface-light rounded-xl shadow-sm border border-border-light p-6 lg:p-12 min-h-full">
            <markdown [src]="'manual/' + currentDoc + '.md'" class="prose prose-slate lg:prose-lg max-w-none 
                             prose-headings:font-display prose-headings:font-bold prose-headings:text-primary
                             prose-a:text-primary prose-a:no-underline hover:prose-a:underline
                             prose-strong:text-text-main
                             prose-l:marker:text-primary">
            </markdown>
        </div>
    </main>
</div>